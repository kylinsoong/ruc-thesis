= BGE Embedder
:toc: manual

== BGE-M3

BGE-M3 can simultaneously perform the three common retrieval functionalities of embedding model: dense retrieval, multi-vector retrieval, and sparse retrieval.

[source, bash]
.*Text*
----
["What is BGE M3?", "Defination of BM25"]
----

[source, bash]
.*Dense Retrieval*
----
[[-0.03412  -0.04712  -0.000902 ...  0.04825   0.00753  -0.0296  ]
 [-0.010315 -0.04486  -0.02426  ... -0.00822   0.01504   0.01117 ]]
----

[source, bash]
.*Sparse Retrieval*
----
[defaultdict(<class 'int'>, {'4865': 0.0838, '83': 0.0815, '335': 0.1299, '11679': 0.2517, '276': 0.1705, '363': 0.2695, '32': 0.04086}), defaultdict(<class 'int'>, {'262': 0.05014, '5983': 0.1368, '2320': 0.04514, '111': 0.0633, '90017': 0.2517, '2588': 0.3335})]
----

[source, bash]
.*Multi-Vector*
----
[array([[-8.6436728e-03, -4.8910540e-02, -3.1072183e-03, ...,
        -2.2059573e-02,  5.7190064e-02,  1.2850516e-02],
       [-8.8400580e-03, -4.6741627e-02, -9.6618365e-03, ...,
        -3.1389095e-02,  5.3961881e-02,  6.8307379e-03],
       [ 1.8494213e-02, -4.2324167e-02,  7.8849110e-04, ...,
        -1.9805539e-02,  3.8381144e-02,  7.7051688e-03],
       ...,
       [-2.5465941e-02, -1.6584365e-02, -4.2192571e-02, ...,
        -4.5037929e-02,  4.4062380e-02, -1.0075611e-02],
       [ 7.1706840e-05, -5.5392243e-02,  8.4080892e-03, ...,
        -2.2856390e-02,  6.0269788e-02,  9.3628019e-03],
       [ 2.6071726e-03, -2.9365817e-02, -1.9015186e-02, ...,
        -8.1181414e-03,  3.2784805e-02,  4.3869190e-02]], dtype=float32), 
array([[ 0.01717878,  0.03837294, -0.02308425, ...,  0.00143647,
         0.02995576, -0.05987792],
       [ 0.0099685 ,  0.03927839, -0.0385504 , ...,  0.00605142,
         0.02723346, -0.06508895],
       [ 0.01781501,  0.03924816, -0.01713446, ...,  0.00809343,
         0.03990287, -0.05068836],
       ...,
       [ 0.05476316,  0.00756363,  0.00328304, ..., -0.0165992 ,
         0.02404756,  0.00374191],
       [ 0.00937177,  0.05020909, -0.02390739, ...,  0.02572993,
         0.00791553, -0.03257337],
       [ 0.01807579,  0.01334465,  0.00010954, ...,  0.01846874,
         0.01380047,  0.00307878]], dtype=float32)]
----


